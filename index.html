<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mwaniki Reports | Blogs</title>
  <meta name="description" content="Your trusted source for news, sports, tech, and entertainment.">
  <meta property="og:title" content="Mwaniki Reports">
  <meta property="og:description" content="Your trusted source for news, sports, tech, and entertainment.">
  <meta property="og:image" content="images/Jonathan-Mwaniki-logo.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-white text-gray-800 font-poppins">
  <header class="bg-gradient-to-r from-primary to-secondary text-white py-4 sticky top-0 z-50 shadow-lg">
    <div class="container mx-auto px-4 flex justify-between items-center">
      <a href="index.html">
        <img src="images/Jonathan-Mwaniki-logo.png" alt="Mwaniki Reports" class="h-12">
      </a>
      <nav class="flex gap-4">
        <a href="index.html" class="hover:underline">Blogs</a>
        <a href="https://x.com/maestropuns" target="_blank" class="hover:underline">X</a>
        <a href="https://linkedin.com" target="_blank" class="hover:underline">LinkedIn</a>
      </nav>
    </div>
  </header>

  <main class="container mx-auto px-4 py-8 min-h-screen">
    <div class="text-center mb-12">
      <h1 class="text-4xl md:text-5xl font-bold bg-gradient-to-r from-primary to-secondary text-transparent bg-clip-text">
        Mwaniki Reports
      </h1>
      <p class="text-lg text-muted mt-2">Your trusted source for news, sports, tech, and entertainment.</p>
    </div>

    <div class="flex flex-col md:flex-row gap-4 mb-8">
      <div class="relative flex-1">
        <input
          type="text"
          id="searchInput"
          placeholder="Search posts..."
          class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary"
          oninput="filterPosts()"
        >
        <i class="fas fa-search absolute right-3 top-1/2 transform -translate-y-1/2 text-muted"></i>
      </div>
      <div id="categoryFilter" class="flex flex-wrap gap-2"></div>
    </div>

    <div id="postList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
  </main>

  <footer class="bg-gradient-to-r from-primary to-secondary text-white py-6">
    <div class="container mx-auto px-4 text-center">
      <img src="images/Jonathan-Mwaniki-logo.png" alt="Mwaniki Reports" class="h-10 mx-auto mb-4">
      <p>&copy; 2025 Jonathan Mwaniki. All rights reserved.</p>
      <div class="flex justify-center gap-4 mt-2">
        <a href="https://x.com/maestropuns" target="_blank"><i class="fab fa-x-twitter"></i></a>
        <a href="https://linkedin.com" target="_blank"><i class="fab fa-linkedin"></i></a>
      </div>
    </div>
  </footer>

  <script>
    // Sample posts (replace with articles.json content via server-side processing)
    const posts = [
      { slug: "post1", title: "Sample Post 1", description: "Description 1", image: "https://via.placeholder.com/400x200", category: "News", tags: "news,update", date: "2025-08-01" },
      { slug: "post2", title: "Sample Post 2", description: "Description 2", image: "https://via.placeholder.com/400x200", category: "Tech", tags: "tech,innovation", date: "2025-08-02" }
    ];

    function renderPosts(posts) {
      const postList = document.getElementById('postList');
      postList.innerHTML = '';
      posts.forEach(post => {
        postList.innerHTML += `
          <a href="content/articles/${post.slug}.html" class="bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-shadow duration-300">
            ${post.image ? `<img src="${post.image}" alt="${post.title}" class="w-full h-48 object-cover">` : ''}
            <div class="p-4">
              <h2 class="text-xl font-bold mb-2">${post.title}</h2>
              <p class="text-muted text-sm mb-2">${post.description}</p>
              <div class="flex justify-between text-muted text-sm">
                <span>${post.category}</span>
                <time>${new Date(post.date).toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' })}</time>
              </div>
              ${post.tags ? `<div class="flex flex-wrap gap-2 mt-2">${post.tags.split(',').map(tag => `<span class="bg-gray-200 text-xs px-2 py-1 rounded">${tag.trim()}</span>`).join('')}</div>` : ''}
              <button class="mt-4 bg-gradient-to-r from-primary to-secondary text-white px-4 py-2 rounded-lg hover:opacity-90">Read More</button>
            </div>
          </a>
        `;
      });
    }

    function renderCategories() {
      const categories = ['All', ...new Set(posts.map(post => post.category))];
      const categoryFilter = document.getElementById('categoryFilter');
      categoryFilter.innerHTML = categories.map(category => `
        <button
          onclick="filterByCategory('${category}')"
          class="px-4 py-2 rounded-lg text-sm font-medium transition-colors ${category === 'All' ? 'bg-gradient-to-r from-primary to-secondary text-white' : 'bg-gray-200 text-gray-700 hover:bg-gray-300'}"
        >${category}</button>
      `).join('');
    }

    function filterPosts() {
      const query = document.getElementById('searchInput').value.toLowerCase();
      const selectedCategory = document.querySelector('#categoryFilter .bg-gradient-to-r')?.textContent || 'All';
      let filtered = posts;
      if (query) {
        filtered = filtered.filter(post =>
          post.title.toLowerCase().includes(query) ||
          post.description.toLowerCase().includes(query) ||
          (post.tags && post.tags.toLowerCase().includes(query))
        );
      }
      if (selectedCategory !== 'All') {
        filtered = filtered.filter(post => post.category === selectedCategory);
      }
      renderPosts(filtered);
    }

    function filterByCategory(category) {
      document.querySelectorAll('#categoryFilter button').forEach(btn => {
        btn.classList.remove('bg-gradient-to-r', 'from-primary', 'to-secondary', 'text-white');
        btn.classList.add('bg-gray-200', 'text-gray-700', 'hover:bg-gray-300');
      });
      event.target.classList.add('bg-gradient-to-r', 'from-primary', 'to-secondary', 'text-white');
      event.target.classList.remove('bg-gray-200', 'text-gray-700', 'hover:bg-gray-300');
      filterPosts();
    }

    // Initialize
    renderCategories();
    renderPosts(posts);
  </script>
</body>
</html>