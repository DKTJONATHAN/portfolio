<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Jonathan Mwaniki Reports: Kenya's premier source for breaking news, business updates, sports, tech, entertainment, and opinions in Nairobi and nationwide.">
    <meta name="keywords" content="Kenya news, Nairobi news, breaking news Kenya, Kenya business news, Kenya sports updates, Kenya tech news, entertainment Kenya, Jonathan Mwaniki, Kenyan news today, latest Kenya news, Kenya politics, Kenya economy, Kenya current events">
    <meta name="author" content="Jonathan Mwaniki">
    <meta name="robots" content="index, follow">
    <meta name="geo.region" content="KE">
    <meta name="geo.placename" content="Nairobi, Kenya">
    <meta name="geo.position" content="-1.286389;36.817223">
    <meta name="ICBM" content="-1.286389, 36.817223">

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Jonathan Mwaniki Reports | Latest Kenya News & Updates">
    <meta property="og:description" content="Stay informed with Jonathan Mwaniki Reports for the latest breaking news, business, sports, tech, and entertainment updates from Nairobi and across Kenya.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.jonathanmwaniki.co.ke">
    <meta property="og:image" content="https://www.jonathanmwaniki.co.ke/images/Jonathan-Mwaniki-logo.png">
    <meta property="og:image:alt" content="Jonathan Mwaniki Reports Logo">
    <meta property="og:site_name" content="Jonathan Mwaniki Reports">
    <meta property="og:locale" content="en_KE">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@maestropuns">
    <meta name="twitter:creator" content="@maestropuns">
    <meta name="twitter:title" content="Jonathan Mwaniki Reports | Latest Kenya News & Updates">
    <meta name="twitter:description" content="Get the latest breaking news, business, sports, tech, and entertainment updates from Nairobi and Kenya at Jonathan Mwaniki Reports.">
    <meta name="twitter:image" content="https://www.jonathanmwaniki.co.ke/images/Jonathan-Mwaniki-logo.png">

    <!-- Favicon Links -->
    <link rel="icon" type="image/png" sizes="96x96" href="/images/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="48x48" href="/images/favicon-48x48.png">

    <title>Jonathan Mwaniki Reports | Latest Kenya News, Breaking Updates, Business, Sports & Entertainment</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="sitemap" type="application/xml" title="Sitemap" href="/api/sitemap">

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-W3FVP4FRPT"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-W3FVP4FRPT');
    </script>

    <!-- Structured Data for Organization -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Organization",
        "name": "Jonathan Mwaniki Reports",
        "url": "https://www.jonathanmwaniki.co.ke",
        "logo": "https://www.jonathanmwaniki.co.ke/images/Jonathan-Mwaniki-logo.png",
        "sameAs": [
            "https://twitter.com/maestropuns",
            "https://facebook.com/mwanikireports"
        ],
        "contactPoint": {
            "@type": "ContactPoint",
            "email": "contact@jonathanmwaniki.co.ke",
            "contactType": "Customer Service"
        },
        "address": {
            "@type": "PostalAddress",
            "addressLocality": "Nairobi",
            "addressCountry": "KE"
        }
    }
    </script>

    <style>
        :root {
            --primary-color: #4f46e5;
            --primary-dark: #3b82f6;
            --text-color: #111827;
            --light-text: #6b7280;
            --background-color: #ffffff;
            --light-bg: #f3f4f6;
            --border-color: #e5e7eb;
            --font-main: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: var(--font-main);
            color: var(--text-color);
            background: var(--background-color);
            line-height: 1.5;
        }
        #mainContent {
            padding-bottom: 80px;
        }
        #splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: var(--background-color);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: opacity 0.3s ease;
        }
        #splash-screen.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .splash-logo img {
            width: 80px;
            height: 80px;
            border-radius: 0.5rem;
        }
        .splash-title {
            font-size: 2rem;
            font-weight: 700;
            margin: 1rem 0;
        }
        .splash-spinner {
            font-size: 2rem;
            color: var(--primary-color);
            animation: spin 1s linear infinite;
        }
        .desktop-nav {
            background: var(--background-color);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .nav-brand {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .brand-logo img {
            width: 48px;
            height: 48px;
            border-radius: 0.5rem;
            object-fit: cover;
        }
        .brand-name {
            font-size: 1.5rem;
            font-weight: 700;
        }
        .nav-links {
            display: flex;
            gap: 1.5rem;
        }
        .nav-link {
            color: var(--light-text);
            font-weight: 600;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: color 0.2s ease;
        }
        .nav-link i {
            font-size: 1.1rem;
        }
        .nav-link:hover, .nav-link.active {
            color: var(--primary-color);
        }
        .mobile-nav {
            display: none;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--background-color);
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            z-index: 90;
            padding: 0.5rem 1rem;
            border-top: 1px solid var(--border-color);
        }
        .mobile-nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 60px;
        }
        .mobile-main-icons {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            flex: 1;
            justify-content: center;
        }
        .mobile-nav-link {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--light-text);
            font-size: 0.7rem;
            text-decoration: none;
            transition: all 0.2s ease;
        }
        .mobile-nav-link i {
            font-size: 1.2rem;
            margin-bottom: 0.25rem;
        }
        .mobile-nav-link:hover, .mobile-nav-link.active {
            color: var(--primary-color);
        }
        .mobile-nav-all {
            position: relative;
            bottom: 15px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--primary-color);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 8px rgba(79, 70, 229, 0.3);
        }
        .mobile-nav-all i {
            font-size: 1.4rem;
            margin-bottom: 0;
        }
        .mobile-nav-all span {
            font-size: 0.6rem;
            font-weight: 600;
        }
        .mobile-menu-toggle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: var(--light-bg);
            color: var(--text-color);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .mobile-menu-toggle:hover {
            background: var(--primary-color);
            color: white;
        }
        .mobile-menu-toggle i {
            font-size: 1.2rem;
        }
        .mobile-dropdown-menu {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background: white;
            border-radius: 1rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            padding: 1rem;
            z-index: 95;
            display: none;
            flex-direction: column;
            gap: 0.75rem;
            min-width: 150px;
            transform-origin: bottom right;
            transform: scale(0.9);
            opacity: 0;
            transition: all 0.2s ease;
        }
        .mobile-dropdown-menu.show {
            display: flex;
            transform: scale(1);
            opacity: 1;
        }
        .mobile-dropdown-link {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: var(--text-color);
            text-decoration: none;
            padding: 0.5rem 0.75rem;
            border-radius: 0.5rem;
            transition: all 0.2s ease;
        }
        .mobile-dropdown-link i {
            font-size: 1rem;
            width: 20px;
            text-align: center;
        }
        .mobile-dropdown-link:hover {
            background: var(--light-bg);
            color: var(--primary-color);
        }
        .blog-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 1rem 80px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .section-header {
            text-align: center;
            margin-bottom: 2rem;
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .section-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            width: 100%;
            text-align: center;
        }
        .section-description {
            color: var(--light-text);
            font-size: 0.95rem;
            max-width: 600px;
            margin: 0 auto 1.5rem;
            text-align: center;
        }
        .header-logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1.5rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            width: 100%;
        }
        .header-logo img {
            width: 80px;
            height: 80px;
            border-radius: 0.5rem;
            object-fit: cover;
        }
        .header-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }
        .header-btn {
            padding: 0.6rem 1.5rem;
            background: var(--primary-color);
            color: white;
            border-radius: 2rem;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        .header-btn:hover {
            background: var(--primary-dark);
        }
        .header-btn i {
            font-size: 0.9rem;
        }
        .search-bar {
            margin: 0 auto 2rem;
            max-width: 500px;
            width: 100%;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .search-bar input {
            width: 100%;
            padding: 0.8rem 1rem 0.8rem 2.5rem;
            border: 1px solid var(--border-color);
            border-radius: 2rem;
            font-size: 0.95rem;
            transition: all 0.2s ease;
        }
        .search-bar input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }
        .search-bar i {
            position: absolute;
            left: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--light-text);
        }
        .blog-posts {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
            width: 100%;
            justify-items: center;
        }
        .blog-post {
            background: white;
            border-radius: 0.75rem;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            max-width: 100%;
        }
        .blog-post:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        .post-image {
            height: 180px;
            overflow: hidden;
        }
        .post-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }
        .blog-post:hover .post-image img {
            transform: scale(1.05);
        }
        .post-content {
            padding: 1.25rem;
        }
        .post-meta {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: var(--light-text);
            font-size: 0.75rem;
            margin-bottom: 0.75rem;
        }
        .post-category {
            background: var(--light-bg);
            color: var(--primary-color);
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.7rem;
            font-weight: 600;
        }
        .post-title {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 0.75rem;
            line-height: 1.4;
        }
        .post-title a {
            color: var(--text-color);
            text-decoration: none;
            transition: color 0.2s ease;
        }
        .post-title a:hover {
            color: var(--primary-color);
        }
        .post-excerpt {
            color: var(--light-text);
            font-size: 0.85rem;
            line-height: 1.5;
            margin-bottom: 1rem;
        }
        .post-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        .post-tag {
            padding: 0.25rem 0.75rem;
            background: var(--light-bg);
            color: var(--primary-color);
            border-radius: 1rem;
            font-size: 0.7rem;
            text-decoration: none;
            transition: all 0.2s ease;
        }
        .post-tag:hover {
            background: var(--primary-color);
            color: white;
        }
        .btn-primary {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: var(--primary-color);
            color: white;
            border-radius: 1.5rem;
            font-weight: 600;
            font-size: 0.85rem;
            text-decoration: none;
            transition: all 0.2s ease;
        }
        .btn-primary:hover {
            background: var(--primary-dark);
        }
        .ad-container {
            width: 100%;
            max-width: 468px;
            margin: 1rem auto;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .ad-container iframe {
            width: 100%;
            max-width: 100%;
            height: 60px;
            border: none;
        }
        .loading-posts, .no-posts, .error-message {
            text-align: center;
            padding: 3rem 1rem;
            color: var(--light-text);
        }
        .loading-posts i {
            color: var(--primary-color);
            animation: spin 1s linear infinite;
            margin-right: 0.5rem;
        }
        .error-message a {
            color: var(--primary-color);
            text-decoration: underline;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .site-footer {
            background: var(--light-bg);
            padding: 2rem 1rem;
            border-top: 1px solid var(--border-color);
            width: 100%;
        }
        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 2rem;
            justify-items: center;
        }
        .footer-brand {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
        }
        .footer-logo img {
            width: 60px;
            height: 60px;
            border-radius: 0.5rem;
            object-fit: cover;
        }
        .footer-info {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .footer-name {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-color);
        }
        .footer-description {
            color: var(--light-text);
            font-size: 0.9rem;
            max-width: 300px;
        }
        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 0.5rem;
        }
        .social-links a {
            color: var(--light-text);
            font-size: 1.2rem;
            transition: color 0.2s ease;
        }
        .social-links a:hover {
            color: var(--primary-color);
        }
        .footer-column {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .footer-column h3 {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-color);
            margin-bottom: 0.75rem;
        }
        .footer-column ul {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .footer-column a {
            color: var(--light-text);
            text-decoration: none;
            font-size: 0.9rem;
            transition: color 0.2s ease;
        }
        .footer-column a:hover {
            color: var(--primary-color);
        }
        .footer-legal {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        .copyright {
            color: var(--light-text);
            font-size: 0.85rem;
        }
        .legal-links {
            display: flex;
            gap: 1rem;
        }
        .legal-link {
            color: var(--light-text);
            font-size: 0.85rem;
            text-decoration: none;
            transition: color 0.2s ease;
        }
        .legal-link:hover {
            color: var(--primary-color);
        }
        @media (max-width: 1024px) {
            .blog-posts {
                grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            }
        }
        @media (max-width: 768px) {
            .desktop-nav {
                display: none;
            }
            .mobile-nav {
                display: block;
            }
            .blog-container {
                padding: 1.5rem 1rem 70px;
            }
            .section-title {
                font-size: 1.75rem;
            }
            .section-description {
                font-size: 0.95rem;
                max-width: 90%;
            }
            .header-logo img {
                width: 70px;
                height: 70px;
            }
            .blog-posts {
                grid-template-columns: 1fr;
                gap: 1.25rem;
            }
            .post-image {
                height: 160px;
            }
            .footer-container {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            .footer-brand, .footer-links, .footer-legal {
                justify-items: center;
                text-align: center;
            }
            .footer-links {
                grid-template-columns: 1fr 1fr;
            }
            .ad-container {
                max-width: 100%;
            }
            .ad-container iframe {
                width: 100%;
                max-width: 336px;
            }
        }
        @media (max-width: 480px) {
            .blog-container {
                padding: 1rem 0.75rem 65px;
            }
            .section-title {
                font-size: 1.5rem;
            }
            .section-description {
                font-size: 0.9rem;
                max-width: 95%;
            }
            .header-logo img {
                width: 60px;
                height: 60px;
            }
            .header-btn {
                padding: 0.5rem 1.25rem;
                font-size: 0.85rem;
            }
            .search-bar {
                max-width: 90%;
            }
            .blog-posts {
                gap: 1rem;
            }
            .post-image {
                height: 200px;
            }
            .footer-container {
                gap: 1rem;
            }
            .footer-links {
                grid-template-columns: 1fr;
            }
            .footer-logo img {
                width: 50px;
                height: 50px;
            }
            .mobile-main-icons {
                gap: 1rem;
            }
            .mobile-nav-link {
                font-size: 0.6rem;
            }
            .mobile-nav-link i {
                font-size: 1.1rem;
            }
            .mobile-nav-all {
                width: 45px;
                height: 45px;
                bottom: 12px;
            }
            .mobile-nav-all i {
                font-size: 1.3rem;
            }
            .ad-container {
                max-width: 100%;
            }
            .ad-container iframe {
                width: 100%;
                max-width: 300px;
            }
        }
    </style>
</head>
<body>
    <div id="splash-screen">
        <div class="splash-logo">
            <img src="/images/Jonathan-Mwaniki-logo.png" alt="Jonathan Mwaniki Reports Kenya News Logo">
        </div>
        <h1 class="splash-title">Jonathan Mwaniki <span class="gradient-text">Reports</span></h1>
        <i class="fas fa-spinner splash-spinner"></i>
    </div>

    <div id="mainContent">
        <nav class="desktop-nav">
            <div class="nav-container">
                <div class="nav-brand">
                    <div class="brand-logo">
                        <img src="/images/Jonathan-Mwaniki-logo.png" alt="Jonathan Mwaniki Reports Kenya News Logo">
                    </div>
                    <span class="brand-name">Jonathan Mwaniki Reports</span>
                </div>
                <div class="nav-links">
                    <a href="#" class="nav-link active" data-category="ALL"><i class="fas fa-globe"></i> All</a>
                    <a href="#" class="nav-link" data-category="News"><i class="fas fa-newspaper"></i> News</a>
                    <a href="#" class="nav-link" data-category="Breaking News"><i class="fas fa-bolt"></i> Breaking</a>
                    <a href="#" class="nav-link" data-category="Opinions"><i class="fas fa-comment"></i> Opinions</a>
                    <a href="#" class="nav-link" data-category="Business"><i class="fas fa-briefcase"></i> Business</a>
                    <a href="#" class="nav-link" data-category="Sports"><i class="fas fa-futbol"></i> Sports</a>
                    <a href="#" class="nav-link" data-category="Tech"><i class="fas fa-microchip"></i> Tech</a>
                    <a href="#" class="nav-link" data-category="Entertainment"><i class="fas fa-film"></i> Buzz</a>
                </div>
            </div>
        </nav>

        <main class="blog-container">
            <div class="section-header">
                <h1 class="section-title">Jonathan Mwaniki <span class="gradient-text">Reports</span></h1>
                <p class="section-description">Your trusted source for breaking Kenya news, business updates, sports, tech, and entertainment by Jonathan Mwaniki. Stay informed with the latest Nairobi and nationwide updates.</p>
                <div class="header-logo-container">
                    <div class="header-logo">
                        <img src="/images/Jonathan-Mwaniki-logo.png" alt="Jonathan Mwaniki Reports Kenya News Logo">
                    </div>
                    <div class="header-buttons">
                        <button class="header-btn" onclick="window.location.reload()"><i class="fas fa-sync-alt"></i> Refresh</button>
                        <a href="/about" class="header-btn"><i class="fas fa-user"></i> About</a>
                    </div>
                </div>
            </div>

            <div class="search-bar">
                <input type="text" id="search-input" placeholder="Search Kenya news, Nairobi updates, sports, tech..." aria-label="Search Kenya news articles">
                <i class="fas fa-search"></i>
            </div>

            <div id="post-list">
                <div class="loading-posts">
                    <i class="fas fa-spinner"></i> Loading Kenya news posts...
                </div>
            </div>
        </main>

        <footer class="site-footer">
            <div class="footer-container">
                <div class="footer-brand">
                    <div class="footer-logo">
                        <img src="/images/Jonathan-Mwaniki-logo.png" alt="Jonathan Mwaniki Reports Kenya News Logo">
                    </div>
                    <div class="footer-info">
                        <h3 class="footer-name">Jonathan Mwaniki Reports</h3>
                        <p class="footer-description">Kenya's leading independent news source covering Nairobi and nationwide updates on breaking news, business, sports, tech, and entertainment.</p>
                        <div class="social-links">
                            <a href="https://twitter.com/maestropuns" aria-label="Twitter Jonathan Mwaniki Reports"><i class="fab fa-twitter"></i></a>
                            <a href="https://facebook.com/mwanikireports" aria-label="Facebook Jonathan Mwaniki Reports"><i class="fab fa-facebook"></i></a>
                        </div>
                    </div>
                </div>
                <div class="footer-links">
                    <div class="footer-column">
                        <h3>Categories</h3>
                        <ul>
                            <li><a href="#" data-category="News">Kenya News</a></li>
                            <li><a href="#" data-category="Business">Business Updates</a></li>
                            <li><a href="#" data-category="Sports">Sports News</a></li>
                        </ul>
                    </div>
                    <div class="footer-column">
                        <h3>Company</h3>
                        <ul>
                            <li><a href="/about">About Us</a></li>
                            <li><a href="/contact">Contact</a></li>
                            <li><a href="/advertise">Advertise</a></li>
                        </ul>
                    </div>
                </div>
                <div class="footer-legal">
                    <p class="copyright">© 2025 Jonathan Mwaniki. All Rights Reserved.</p>
                    <div class="legal-links">
                        <a href="/privacy-policy" class="legal-link">Privacy Policy</a>
                        <a href="/terms-of-service" class="legal-link">Terms of Service</a>
                        <a href="/api/sitemap" class="legal-link">Sitemap</a>
                    </div>
                </div>
            </div>
        </footer>

        <nav class="mobile-nav">
            <div class="mobile-nav-container">
                <div class="mobile-main-icons">
                    <a href="#" class="mobile-nav-link" data-category="News">
                        <i class="fas fa-newspaper"></i>
                        <span>News</span>
                    </a>
                    <a href="#" class="mobile-nav-all active" data-category="ALL">
                        <i class="fas fa-globe"></i>
                        <span>All</span>
                    </a>
                    <a href="#" class="mobile-nav-link" data-category="Entertainment">
                        <i class="fas fa-film"></i>
                        <span>Buzz</span>
                    </a>
                </div>
                <div class="mobile-menu-toggle" id="mobileMenuToggle">
                    <i class="fas fa-ellipsis-h"></i>
                </div>
                <div class="mobile-dropdown-menu" id="mobileDropdownMenu">
                    <a href="#" class="mobile-dropdown-link" data-category="Breaking News">
                        <i class="fas fa-bolt"></i>
                        <span>Breaking</span>
                    </a>
                    <a href="#" class="mobile-dropdown-link" data-category="Opinions">
                        <i class="fas fa-comment"></i>
                        <span>Opinions</span>
                    </a>
                    <a href="#" class="mobile-dropdown-link" data-category="Business">
                        <i class="fas fa-briefcase"></i>
                        <span>Business</span>
                    </a>
                    <a href="#" class="mobile-dropdown-link" data-category="Sports">
                        <i class="fas fa-futbol"></i>
                        <span>Sports</span>
                    </a>
                    <a href="#" class="mobile-dropdown-link" data-category="Tech">
                        <i class="fas fa-microchip"></i>
                        <span>Tech</span>
                    </a>
                </div>
            </div>
        </nav>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // DOM elements
            const splashScreen = document.getElementById('splash-screen');
            const postList = document.getElementById('post-list');
            const searchInput = document.getElementById('search-input');
            const navLinks = document.querySelectorAll('.nav-link, .mobile-nav-link, .mobile-dropdown-link');
            const mobileMenuToggle = document.getElementById('mobileMenuToggle');
            const mobileDropdownMenu = document.getElementById('mobileDropdownMenu');

            // State
            let postsByCategory = {};
            let currentCategory = 'ALL';

            // Debounce function for search
            function debounce(func, wait) {
                let timeout;
                return function (...args) {
                    clearTimeout(timeout);
                    timeout = setTimeout(() => func(...args), wait);
                };
            }

            // Format date for display
            function formatDate(dateString) {
                if (!dateString) return 'No date';
                try {
                    return new Date(dateString).toLocaleDateString('en-KE', {
                        year: 'numeric',
                        month: 'short',
                        day: 'numeric'
                    });
                } catch {
                    return 'Invalid date';
                }
            }

            // Set active navigation link
            function setActiveNav(category) {
                navLinks.forEach(link => {
                    link.classList.toggle('active', link.dataset.category === category);
                });
            }

            // Render posts
            function renderPosts(posts, category) {
                postList.innerHTML = '';
                if (!posts || posts.length === 0) {
                    postList.innerHTML = `<div class="no-posts">No ${category} posts found.</div>`;
                    return;
                }

                // Sort posts by date (newest first)
                const sortedPosts = [...posts].sort((a, b) => new Date(b.date) - new Date(a.date));

                const section = document.createElement('section');
                section.className = 'category-section';

                if (category !== 'ALL') {
                    const title = document.createElement('h2');
                    title.className = 'category-title';
                    title.textContent = category;
                    section.appendChild(title);
                }

                const postsContainer = document.createElement('div');
                postsContainer.className = 'blog-posts';

                sortedPosts.forEach((post, index) => {
                    if (!post.category || !post.title || !post.slug || !post.url) return;

                    const postElement = document.createElement('article');
                    postElement.className = 'blog-post';
                    postElement.setAttribute('itemscope', '');
                    postElement.setAttribute('itemtype', 'https://schema.org/NewsArticle');

                    const imageUrl = post.image || '/images/default-blog.jpg';
                    const excerpt = post.description || 'No description available.';
                    const formattedDate = formatDate(post.date);
                    const keywords = post.tags ? post.tags.split(',').map(tag => tag.trim()).filter(tag => tag).slice(0, 3) : [];

                    postElement.innerHTML = `
                        <meta itemprop="mainEntityOfPage" content="${post.url}">
                        <div class="post-image">
                            <img src="${imageUrl}" alt="${post.title} - Kenya News" loading="lazy" width="360" height="180" fetchpriority="${index === 0 ? 'high' : 'auto'}" onerror="this.src='/images/default-blog.jpg'" itemprop="image">
                        </div>
                        <div class="post-content">
                            <div class="post-meta">
                                <time datetime="${post.date}" itemprop="datePublished">${formattedDate}</time> • 
                                <span class="post-category" itemprop="articleSection">${post.category}</span>
                            </div>
                            <h3 class="post-title" itemprop="headline">
                                <a href="${post.url}" itemprop="url">${post.title}</a>
                            </h3>
                            <div class="post-excerpt" itemprop="description">${excerpt}</div>
                            ${keywords.length > 0 ? `
                                <div class="post-tags">
                                    ${keywords.map(keyword => `
                                        <a class="post-tag" href="/blogs.html?tag=${encodeURIComponent(keyword)}" data-tag="${encodeURIComponent(keyword)}" itemprop="keywords">${keyword}</a>
                                    `).join('')}
                                </div>
                            ` : ''}
                            <a href="${post.url}" class="btn-primary" itemprop="url">Read More</a>
                        </div>
                        <meta itemprop="author" content="Jonathan Mwaniki">
                        <meta itemprop="dateModified" content="${post.date}">
                        <meta itemprop="publisher" content="Jonathan Mwaniki Reports">
                        <script type="application/ld+json">
                        {
                            "@context": "https://schema.org",
                            "@type": "NewsArticle",
                            "headline": "${post.title}",
                            "image": "${imageUrl}",
                            "datePublished": "${post.date}",
                            "dateModified": "${post.date}",
                            "author": {
                                "@type": "Person",
                                "name": "Jonathan Mwaniki"
                            },
                            "publisher": {
                                "@type": "Organization",
                                "name": "Jonathan Mwaniki Reports",
                                "logo": {
                                    "@type": "ImageObject",
                                    "url": "https://www.jonathanmwaniki.co.ke/images/Jonathan-Mwaniki-logo.png"
                                }
                            },
                            "description": "${excerpt}",
                            "keywords": "${keywords.join(', ')}"
                        }
                        </script>
                    `;

                    postsContainer.appendChild(postElement);

                    if ((index + 1) % 4 === 0) {
                        const adContainer = document.createElement('div');
                        adContainer.className = 'ad-container';
                        const adScript = document.createElement('script');
                        adScript.type = 'text/javascript';
                        adScript.textContent = `atOptions = {'key': '1610960d9ced232cc76d8f5510ee4608', 'format': 'iframe', 'height': 60, 'width': 468, 'params': {}};`;
                        const adInvoke = document.createElement('script');
                        adInvoke.src = '//www.highperformanceformat.com/1610960d9ced232cc76d8f5510ee4608/invoke.js';
                        adInvoke.setAttribute('async', '');
                        adContainer.appendChild(adScript);
                        adContainer.appendChild(adInvoke);
                        postsContainer.appendChild(adContainer);
                    }
                });

                section.appendChild(postsContainer);
                postList.appendChild(section);
            }

            // Fetch posts from API
            async function fetchPosts() {
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), 5000);
                try {
                    const response = await fetch('/api/list-posts.js', {
                        method: 'GET',
                        headers: { 'Content-Type': 'application/json' },
                        signal: controller.signal
                    });
                    clearTimeout(timeoutId);
                    if (!response.ok) throw new Error(`HTTP error: ${response.status}`);
                    const { data, error } = await response.json();
                    if (error) throw new Error(error);
                    return data || [];
                } catch (error) {
                    console.error('Error fetching posts:', error.message);
                    postList.innerHTML = '<div class="error-message">Failed to load Kenya news. Please try again later or <a href="/contact">contact support</a>.</div>';
                    return [];
                }
            }

            // Categorize posts
            async function categorizePosts() {
                const categories = ['News', 'Breaking News', 'Opinions', 'Business', 'Sports', 'Tech', 'Entertainment', 'ALL'];
                const posts = await fetchPosts();
                categories.forEach(category => {
                    postsByCategory[category] = category === 'ALL'
                        ? posts
                        : posts.filter(post => post.category && post.category.toLowerCase() === category.toLowerCase());
                });
                return postsByCategory;
            }

            // Filter posts based on search and category
            const filterPosts = debounce(() => {
                const searchTerm = searchInput.value.toLowerCase().trim();
                let posts = postsByCategory[currentCategory] || [];

                if (searchTerm) {
                    posts = posts.filter(post =>
                        (post.title && post.title.toLowerCase().includes(searchTerm)) ||
                        (post.description && post.description.toLowerCase().includes(searchTerm)) ||
                        (post.tags && post.tags.split(',').map(tag => tag.trim()).some(tag => tag.toLowerCase().includes(searchTerm)))
                    );
                }

                renderPosts(posts, currentCategory);
                setActiveNav(currentCategory);
            }, 300);

            // Event listeners
            mobileMenuToggle.addEventListener('click', (e) => {
                e.stopPropagation();
                mobileDropdownMenu.classList.toggle('show');
            });

            document.addEventListener('click', () => {
                mobileDropdownMenu.classList.remove('show');
            });

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    currentCategory = link.dataset.category;
                    searchInput.value = '';
                    filterPosts();
                });
                link.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        currentCategory = link.dataset.category;
                        searchInput.value = '';
                        filterPosts();
                    }
                });
            });

            postList.addEventListener('click', (e) => {
                if (e.target.classList.contains('post-tag')) {
                    e.preventDefault();
                    searchInput.value = decodeURIComponent(e.target.dataset.tag);
                    filterPosts();
                }
            });

            searchInput.addEventListener('input', filterPosts);

            // Lazy load images
            if ('IntersectionObserver' in window) {
                const observer = new IntersectionObserver((entries, obs) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            img.src = img.dataset.src || img.src;
                            img.removeAttribute('loading');
                            obs.unobserve(img);
                        }
                    });
                }, { rootMargin: '100px' });
                document.querySelectorAll('img[loading="lazy"]').forEach(img => observer.observe(img));
            }

            // Initialize
            (async () => {
                try {
                    await categorizePosts();
                    renderPosts(postsByCategory['ALL'], 'ALL');
                    setActiveNav('ALL');
                    splashScreen.classList.add('hidden');
                    gtag('event', 'page_load', {
                        'event_category': 'Blog',
                        'event_label': 'Index Page Loaded'
                    });
                } catch (error) {
                    console.error('Initialization error:', error.message);
                    postList.innerHTML = '<div class="error-message">Failed to load Kenya news. Please try again or <a href="/contact">contact support</a>.</div>';
                    splashScreen.classList.add('hidden');
                    gtag('event', 'page_load_error', {
                        'event_category': 'Blog',
                        'event_label': 'Index Page Load Failed',
                        'error_message': error.message
                    });
                }
            })();
        });
    </script>
</body>
</html>