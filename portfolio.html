<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Jonathan Mwaniki | Portfolio - Web Developer & Graphic Designer</title>
    <meta name="description" content="Jonathan Mwaniki's portfolio showcasing web development, graphic design, and digital solutions in Kenya.">
    <meta name="keywords" content="Jonathan Mwaniki, web developer Kenya, graphic designer Nairobi, UI/UX designer Kenya">
    <meta name="author" content="Jonathan Mwaniki">
    <meta name="robots" content="index, follow">
    
    <meta name="geo.region" content="KE">
    <meta name="geo.placename" content="Nairobi">
    <meta name="geo.position" content="-1.286389;36.817223">
    
    <link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16 32x32">
    <link rel="icon" href="/images/favicon-96x96.png" type="image/png" sizes="96x96">
    <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
    
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.jonathanmwaniki.co.ke/portfolio.html">
    <meta property="og:title" content="Jonathan Mwaniki | Portfolio - Web Developer & Graphic Designer">
    <meta property="og:description" content="Explore Jonathan Mwaniki's portfolio of web development and graphic design projects.">
    <meta property="og:image" content="https://www.jonathanmwaniki.co.ke/images/Jonathan-Mwaniki-logo.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="Jonathan Mwaniki Portfolio Logo">
    <meta property="og:site_name" content="Jonathan Mwaniki Portfolio">
    <meta property="og:locale" content="en_KE">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@maestropuns">
    <meta name="twitter:creator" content="@maestropuns">
    <meta name="twitter:url" content="https://www.jonathanmwaniki.co.ke/portfolio.html">
    <meta name="twitter:title" content="Jonathan Mwaniki | Portfolio - Web Developer & Graphic Designer">
    <meta name="twitter:description" content="Explore Jonathan Mwaniki's portfolio of web development and graphic design projects.">
    <meta property="twitter:image" content="https://www.jonathanmwaniki.co.ke/images/Jonathan-Mwaniki-logo.png">
    <meta name="twitter:image:alt" content="Jonathan Mwaniki Portfolio Logo">
    
    <link rel="canonical" href="https://www.jonathanmwaniki.co.ke/portfolio.html">
    
    <link rel="stylesheet" href="/styles.css" media="print" onload="this.media='all'">
    <link rel="preload" href="/scripts/main.js" as="script">
    <link rel="preload" href="/images/Jonathan-Mwaniki-logo.png" as="image" type="image/png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" media="print" onload="this.media='all'">

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9291176772735390" crossorigin="anonymous"></script>

    <style>
        /* Keep all styles from original index.html */
        /* [Original index.html styles copied here, unchanged] */
    </style>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Person",
      "name": "Jonathan Mwaniki",
      "image": "https://www.jonathanmwaniki.co.ke/images/Jonathan-Mwaniki-logo.png",
      "@id": "https://www.jonathanmwaniki.co.ke/portfolio.html",
      "url": "https://www.jonathanmwaniki.co.ke/portfolio.html",
      "sameAs": [
        "https://twitter.com/maestropuns",
        "https://www.instagram.com/jonaahrojo",
        "https://www.linkedin.com/in/jonathan-mwaniki-324208374",
        "https://github.com/DKTJONATHAN"
      ],
      "jobTitle": "Web Developer & Graphic Designer",
      "description": "Portfolio of Jonathan Mwaniki, showcasing expertise in web development and graphic design",
      "address": {
        "@type": "PostalAddress",
        "addressCountry": "Kenya",
        "addressRegion": "Nairobi"
      }
    }
    </script>

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "ProfessionalService",
      "name": "Jonathan Mwaniki Digital Solutions",
      "image": "https://www.jonathanmwaniki.co.ke/images/Jonathan-Mwaniki-logo.png",
      "@id": "https://www.jonathanmwaniki.co.ke/portfolio.html",
      "url": "https://www.jonathanmwaniki.co.ke/portfolio.html",
      "telephone": "+254706396305",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Nairobi",
        "addressRegion": "Nairobi",
        "addressCountry": "Kenya"
      },
      "areaServed": {
        "@type": "GeoCircle",
        "geoMidpoint": {
          "@type": "GeoCoordinates",
          "latitude": -1.286389,
          "longitude": 36.817223
        },
        "geoRadius": "50000"
      }
    }
    </script>
</head>
<body>
    <div id="splashScreen" class="fixed inset-0 z-50 bg-white flex flex-col items-center justify-center text-center">
        <div class="splash-content">
            <div class="splash-logo">
                <img src="/images/Jonathan-Mwaniki-logo.png" alt="Jonathan Mwaniki Logo" width="80" height="80" loading="eager">
            </div>
            <h1>Jonathan Mwaniki</h1>
            <p>Professional Web Developer & Graphic Designer</p>
            <div class="progress-bar">
                <div class="progress-bar-track">
                    <div id="progressBar" class="progress-bar-fill"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="mainContent" class="hidden">
        <nav class="mobile-nav">
            <div class="mobile-nav-container">
                <a href="/portfolio.html" class="mobile-nav-link active" aria-label="Portfolio"><i class="fas fa-briefcase"></i><span>Portfolio</span></a>
                <a href="#services" class="mobile-nav-link" aria-label="Services"><i class="fas fa-cogs"></i><span>Services</span></a>
                <a href="/" class="mobile-nav-link" aria-label="News"><i class="fas fa-blog"></i><span>News</span></a>
                <a href="#about" class="mobile-nav-link" aria-label="About"><i class="fas fa-user"></i><span>About</span></a>
                <a href="#contact" class="mobile-nav-link" aria-label="Contact"><i class="fas fa-envelope"></i><span>Contact</span></a>
            </div>
        </nav>

        <nav class="desktop-nav">
            <div class="nav-container">
                <div class="nav-brand">
                    <div class="brand-logo">
                        <img src="/images/Jonathan-Mwaniki-logo.png" alt="Jonathan Mwaniki Logo" width="40" height="40" loading="eager">
                    </div>
                    <span class="brand-name">Jonathan Mwaniki</span>
                </div>
                <div class="nav-links">
                    <a href="/portfolio.html" class="nav-link active" aria-label="Portfolio">Portfolio</a>
                    <a href="#services" class="nav-link" aria-label="Services">Services</a>
                    <a href="/" class="nav-link" aria-label="News">News</a>
                    <a href="#about" class="nav-link" aria-label="About">About</a>
                    <a href="#contact" class="nav-link" aria-label="Contact">Contact</a>
                </div>
            </div>
        </nav>

        <section id="home" class="hero-section">
            <div class="hero-container">
                <div class="hero-content">
                    <h1 class="hero-title">
                        <span class="name-jonathan">Jonathan</span> <span class="name-mwaniki">Mwaniki</span>
                    </h1>
                    <p class="hero-tagline">Professional Web Developer & Designer</p>
                    <p class="hero-description">
                        I'm Jonathan Mwaniki, a passionate web developer and graphic designer with over 5 years of experience. 
                        I create responsive websites and compelling designs to help businesses establish their online presence.
                    </p>
                    <div class="hero-actions">
                        <a href="#contact" class="btn-primary" aria-label="Hire Jonathan Mwaniki">Hire Me</a>
                        <a href="#portfolio" class="btn-outline" aria-label="View Jonathan Mwaniki's Work">View My Portfolio</a>
                    </div>
                </div>
                <div class="hero-image">
                    <img src="/images/Jonathan-Mwaniki-logo.png" 
                         srcset="/images/Jonathan-Mwaniki-logo-300.png 300w, /images/Jonathan-Mwaniki-logo.png 600w" 
                         sizes="(max-width: 768px) 300px, 600px" 
                         alt="Jonathan Mwaniki - Professional Web Developer & Designer in Kenya" 
                         loading="eager" 
                         width="600" 
                         height="400">
                </div>
            </div>
        </section>

        <!-- Keep all sections (services, portfolio, blog, about, contact) from original index.html -->
        <!-- Update blog section's "Read More Blogs" link -->
        <section id="blog" class="blog-section">
            <div class="blog-container">
                <div class="section-header">
                    <h2 class="section-title">Latest <span class="gradient-text">News</span></h2>
                    <p class="section-description">Insights and updates from Mwaniki Reports</p>
                </div>
                <div id="blog-list" class="blog-posts">
                    <!-- Posts will be dynamically inserted here -->
                </div>
                <div class="ad-container">
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-9291176772735390"
                         data-ad-slot="1375283462"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                    <script>
                         (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>
                <div class="blog-actions" style="text-align: center; margin-top: 40px;">
                    <a href="/" class="btn-primary" aria-label="Read more news articles">Read More News <i class="fas fa-arrow-right"></i></a>
                </div>
            </div>
        </section>

        <!-- Keep footer and scripts from original index.html -->
        <footer class="site-footer">
            <div class="footer-container">
                <div class="footer-brand">
                    <div class="footer-logo">
                        <img src="/images/Jonathan-Mwaniki-logo.png" alt="Jonathan Mwaniki Logo" width="40" height="40" loading="lazy">
                    </div>
                    <div class="footer-info">
                        <span class="footer-name">Jonathan Mwaniki</span>
                        <p class="footer-description">Professional web developer and graphic designer based in Kenya</p>
                    </div>
                </div>
                <div class="footer-legal">
                    <p class="copyright">© 2025 Jonathan Mwaniki. All Rights Reserved.</p>
                    <div class="legal-links">
                        <a href="/privacy-policy" class="legal-link">Privacy Policy</a>
                        <a href="/terms-of-service" class="legal-link">Terms of Service</a>
                        <a href="/sitemap.xml" class="legal-link">Sitemap</a>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <script src="/scripts/main.js" defer></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const postList = document.getElementById('blog-list');

            function formatDate(dateString) {
                if (!dateString) return 'No date';
                const options = { year: 'numeric', month: 'long', day: 'numeric' };
                return new Date(dateString).toLocaleDateString('en-US', options);
            }

            async function fetchPosts() {
                try {
                    postList.innerHTML = '<div class="no-posts">Loading posts...</div>';
                    const response = await fetch('/api/list-posts.js', {
                        method: 'GET',
                        headers: {
                            'Content-Type': 'application/json'
                        }
                    });
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    const { data, error } = await response.json();
                    if (error) {
                        throw new Error(error);
                    }
                    return data || [];
                } catch (error) {
                    console.error('Error fetching posts:', error);
                    postList.innerHTML = '<div class="error-message">Failed to load posts. Please try again later or <a href="#contact">contact support</a>.</div>';
                    return [];
                }
            }

            function renderPosts(posts) {
                if (!posts || posts.length === 0) {
                    postList.innerHTML = '<div class="no-posts">No posts found.</div>';
                    return;
                }

                const validPosts = posts
                    .filter(post => post.category)
                    .sort((a, b) => new Date(b.date) - new Date(a.date))
                    .slice(0, window.innerWidth <= 768 ? 1 : 2);

                if (validPosts.length === 0) {
                    postList.innerHTML = '<div class="no-posts">No posts with valid categories found.</div>';
                    return;
                }

                postList.innerHTML = '';
                const postsContainer = document.createElement('div');
                postsContainer.className = 'blog-posts';

                validPosts.forEach(post => {
                    const postElement = document.createElement('article');
                    postElement.className = 'blog-post';
                    postElement.setAttribute('itemscope', '');
                    postElement.setAttribute('itemtype', 'https://schema.org/NewsArticle');

                    const imageUrl = post.image || '/images/default-blog.jpg';
                    const excerpt = post.description || '';
                    const formattedDate = formatDate(post.date);
                    const keywords = post.tags ? post.tags.split(',').map(tag => tag.trim()).filter(tag => tag).slice(0, 3) : [];

                    postElement.innerHTML = `
                        <meta itemprop="mainEntityOfPage" content="/content/articles/${post.slug}.html">
                        <div class="post-image">
                            <img src="${imageUrl}" alt="${post.title || 'Post image'}" loading="lazy" width="800" height="450" onerror="this.src='/images/default-blog.jpg'" itemprop="image">
                        </div>
                        <div class="post-content">
                            <div class="post-meta">
                                <time datetime="${post.date}" itemprop="datePublished">${formattedDate}</time>
                                <span class="post-category" itemprop="articleSection">${post.category}</span>
                            </div>
                            <h3 class="post-title" itemprop="headline">
                                <a href="/content/articles/${post.slug}.html" itemprop="url">${post.title || 'Untitled Post'}</a>
                            </h3>
                            ${excerpt ? `<div class="post-excerpt" itemprop="description">${excerpt}</div>` : ''}
                            ${keywords.length > 0 ? `
                            <div class="post-tags">
                                ${keywords.map(keyword => `<a href="/?tag=${encodeURIComponent(keyword)}" class="post-tag" itemprop="keywords">${keyword}</a>`).join('')}
                            </div>
                            ` : ''}
                            <a href="/content/articles/${post.slug}.html" class="btn-primary" itemprop="url">Continue Reading <i class="fas fa-arrow-right"></i></a>
                        </div>
                        <meta itemprop="author" content="Jonathan Mwaniki">
                        <meta itemprop="dateModified" content="${post.date}">
                        <meta itemprop="publisher" content="Mwaniki Reports">
                    `;

                    postsContainer.appendChild(postElement);
                });

                postList.appendChild(postsContainer);
            }

            fetchPosts().then(posts => {
                renderPosts(posts);
            });

            function checkAdStatus() {
                const adContainer = document.querySelector('.ad-container');
                const adElement = adContainer.querySelector('ins.adsbygoogle');
                if (adElement) {
                    const isAdLoaded = adElement.offsetHeight > 0 || adElement.getAttribute('data-ad-status') === 'filled';
                    if (isAdLoaded) {
                        adContainer.classList.add('loaded');
                    } else {
                        adContainer.classList.remove('loaded');
                    }
                }
            }

            window.addEventListener('load', () => {
                checkAdStatus();
                setTimeout(checkAdStatus, 2000);
            });

            const progressBar = document.getElementById('progressBar');
            const splashScreen = document.getElementById('splashScreen');
            const mainContent = document.getElementById('mainContent');
            let progress = 0;

            function updateProgress() {
                progress += 5;
                progressBar.style.width = progress + '%';
                if (progress < 100) {
                    requestAnimationFrame(updateProgress);
                } else {
                    splashScreen.style.opacity = '0';
                    splashScreen.style.transition = 'opacity 0.5s ease';
                    setTimeout(() => {
                        splashScreen.style.display = 'none';
                        mainContent.classList.remove('hidden');
                    }, 500);
                }
            }
            requestAnimationFrame(updateProgress);

            if ('IntersectionObserver' in window) {
                const lazyImages = document.querySelectorAll('img[loading="lazy"]');
                const imageObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            img.src = img.dataset.src || img.src;
                            img.removeAttribute('loading');
                            observer.unobserve(img);
                        }
                    });
                });

                lazyImages.forEach(img => imageObserver.observe(img));
            }
        });
    </script>
</body>
</html>